<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سيرة المعصومين الأربعة عشر عليهم السلام</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Lateef:wght@400;600&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #004d26;
            --primary-medium: #1a5f23;
            --primary-light: #2e7d32;
            --accent-gold: #c9a845;
            --accent-light: #f5f0e1;
            --card-bg: #ffffff;
            --text-dark: #1a1a1a;
            --text-medium: #444444;
            --text-light: #666666;
            --transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        body {
            font-family: 'Noto Naskh Arabic', 'Amiri', serif;
            background-color: #fefefe;
            color: var(--text-dark);
            line-height: 1.7;
            overflow-x: hidden;
            background-image: radial-gradient(#e8f5e9 1px, transparent 1px);
            background-size: 20px 20px;
            padding: 10px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px 0 15px;
            position: relative;
            opacity: 0;
            animation: fadeInDown 0.8s ease-out 0.2s forwards;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .site-title {
            color: var(--primary-dark);
            font-size: 2.8rem;
            margin-bottom: 5px;
            font-weight: 700;
            letter-spacing: -0.5px;
            position: relative;
            display: inline-block;
        }

        .site-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
            animation: expandLine 1.2s ease-out 0.5s forwards;
        }

        @keyframes expandLine {
            to {
                width: 100%;
            }
        }

        .site-subtitle {
            color: var(--text-medium);
            font-size: 1.3rem;
            margin-top: 20px;
            font-family: 'Lateef', cursive;
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.4s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cards-container {
            position: relative;
            margin: 30px auto 40px;
            max-width: 800px;
            padding: 0 20px;
            min-height: 300px;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.6s forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .cards-wrapper {
            position: relative;
            border-radius: 12px;
            padding: 20px 0;
            min-height: 300px;
            overflow: visible;
        }

        /* أنيميشن التمرير - مبسط */
        @keyframes cardSlideOutLeft {
            0% {
                opacity: 1;
                transform: translateX(50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateX(50%) translateX(-100px) scale(0.95);
                visibility: hidden;
            }
        }

        @keyframes cardSlideOutRight {
            0% {
                opacity: 1;
                transform: translateX(50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateX(50%) translateX(100px) scale(0.95);
                visibility: hidden;
            }
        }

        @keyframes cardSlideInLeft {
            0% {
                opacity: 0;
                transform: translateX(50%) translateX(100px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateX(50%) scale(1);
                visibility: visible;
            }
        }

        @keyframes cardSlideInRight {
            0% {
                opacity: 0;
                transform: translateX(50%) translateX(-100px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateX(50%) scale(1);
                visibility: visible;
            }
        }

        /* بطاقة المعصوم - إصلاح بسيط */
        .imam-card {
            width: 100%;
            max-width: 600px;
            background-color: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 77, 38, 0.1);
            transition: var(--transition);
            border: 1px solid rgba(0, 77, 38, 0.08);
            overflow: hidden;
            min-height: auto;
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 20px;
            right: 50%;
            transform: translateX(50%);
            opacity: 0;
            visibility: hidden;
            z-index: 1;
        }

        .imam-card.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }

        .imam-card.slide-out-left {
            animation: cardSlideOutLeft 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .imam-card.slide-out-right {
            animation: cardSlideOutRight 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .imam-card.slide-in-left {
            animation: cardSlideInLeft 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .imam-card.slide-in-right {
            animation: cardSlideInRight 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .card-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            color: white;
            padding: 25px 25px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border-radius: 16px 16px 0 0;
            flex-shrink: 0;
        }

        .imam-number {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            color: white;
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1.2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 2;
        }

        .imam-name {
            font-size: 2.1rem;
            margin-bottom: 5px;
            position: relative;
            z-index: 2;
            font-weight: 700;
        }

        .imam-title {
            font-size: 1.4rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
            font-weight: 500;
            color: var(--accent-light);
        }

        .card-body {
            padding: 30px;
            font-size: 1.3rem;
            line-height: 1.9;
            text-align: justify;
            position: relative;
            background-color: var(--card-bg);
            flex-grow: 1;
            overflow: hidden;
            border-radius: 0 0 16px 16px;
            display: block;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 40px;
            gap: 15px;
            position: relative;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.8s forwards;
        }

        .nav-btn {
            background: linear-gradient(135deg, var(--primary-medium) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            font-size: 1.6rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 25px rgba(26, 95, 35, 0.3);
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .nav-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(26, 95, 35, 0.4);
        }

        .nav-btn:hover::before {
            opacity: 1;
        }

        .nav-btn i {
            position: relative;
            z-index: 1;
            transition: transform 0.3s ease;
        }

        .nav-btn:hover i {
            transform: scale(1.2);
        }

        .nav-btn:active {
            transform: translateY(0) scale(0.95);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .nav-btn:disabled:hover {
            transform: none;
            box-shadow: 0 8px 25px rgba(26, 95, 35, 0.3);
        }

        .nav-dots {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 35px;
            flex-wrap: wrap;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 1s forwards;
        }

        .nav-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e0e0e0, #bdbdbd);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            border: none;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .nav-dot:hover {
            background: linear-gradient(135deg, #bdbdbd, #9e9e9e);
            transform: scale(1.3);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .nav-dot.active {
            background: linear-gradient(135deg, var(--primary-medium), var(--primary-dark));
            transform: scale(1.5);
            box-shadow: 0 0 20px rgba(26, 95, 35, 0.4);
        }

        footer {
            text-align: center;
            margin-top: 60px;
            padding: 25px 20px;
            color: var(--text-light);
            border-top: 1px solid rgba(0, 77, 38, 0.1);
            background-color: rgba(248, 248, 248, 0.8);
            opacity: 0;
            animation: fadeIn 0.8s ease-out 1.2s forwards;
        }

        .prayer {
            font-size: 1.5rem;
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .progress-bar {
            height: 6px;
            background-color: rgba(0, 77, 38, 0.1);
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.7s forwards;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, 
                var(--primary-light), 
                var(--primary-medium),
                var(--primary-dark));
            width: 7.14%;
            transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .current-card-info {
            text-align: center;
            margin-top: 15px;
            font-size: 1.2rem;
            color: var(--primary-dark);
            font-weight: 600;
            min-height: 30px;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.9s forwards;
        }

        @media (max-width: 768px) {
            .site-title {
                font-size: 2.2rem;
            }
            
            .site-subtitle {
                font-size: 1.2rem;
            }
            
            .imam-name {
                font-size: 1.8rem;
            }
            
            .imam-title {
                font-size: 1.2rem;
            }
            
            .card-body {
                padding: 25px;
                font-size: 1.2rem;
            }
            
            .nav-btn {
                width: 60px;
                height: 60px;
                font-size: 1.4rem;
            }
            
            .imam-card {
                max-width: 95%;
            }
            
            .cards-wrapper {
                min-height: 350px;
            }
        }

        @media (max-width: 576px) {
            body {
                padding: 5px;
            }
            
            .site-title {
                font-size: 1.9rem;
            }
            
            .imam-name {
                font-size: 1.6rem;
            }
            
            .imam-title {
                font-size: 1.1rem;
            }
            
            .card-body {
                padding: 20px 15px;
                font-size: 1.15rem;
            }
            
            .imam-card {
                max-width: 98%;
            }
            
            .nav-btn {
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
            }
            
            .prayer {
                font-size: 1.3rem;
            }
            
            .cards-wrapper {
                min-height: 300px;
            }
            
            .navigation {
                margin-top: 30px;
            }
            
            .nav-dots {
                margin-top: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="site-title">سيرة المعصومين الأربعة عشر</h1>
            <p class="site-subtitle">عليهم أفضل الصلاة والسلام</p>
        </header>

        <main class="cards-container">
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>

            <div class="current-card-info" id="currentCardInfo">
                المعصوم 1 من 14
            </div>

            <div class="cards-wrapper" id="cardsWrapper">
                <!-- سيتم إنشاء البطاقات بواسطة JavaScript -->
            </div>

            <div class="nav-dots" id="navDots">
                <!-- سيتم إنشاء نقاط التنقل بواسطة JavaScript -->
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" aria-label="البطاقة السابقة">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <button class="nav-btn" id="nextBtn" aria-label="البطاقة التالية">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
        </main>

        <footer>
            <p class="prayer">اللَّهُمَّ صَلِّ عَلَى مُحَمَّدٍ وَآلِ مُحَمَّدٍ</p>
        </footer>
    </div>

    <script>
        // بيانات المعصومين الأربعة عشر
        const imamsData = [
            {
                id: 1,
                name: "النبي محمد",
                title: "رسول الله صلى الله عليه وآله",
                description: "خاتم الأنبياء والمرسلين، مبعوث رحمة للعالمين. ولد في مكة عام الفيل، وتوفي في المدينة المنورة. نزل عليه الوحي وهو في الأربعين من عمره، وبلغ الرسالة وأدى الأمانة ونصح الأمة، وجاهد في الله حق جهاد. ترك للمسلمين القرآن الكريم والسنة النبوية. كان خلقه القرآن، يمشي على الأرض وهو من أهل السماء، جمع بين الشجاعة والرحمة، والعزة والتواضع، والعلم والعمل."
            },
            {
                id: 2,
                name: "الإمام علي",
                title: "أمير المؤمنين عليه السلام",
                description: "ابن عم النبي محمد صلى الله عليه وآله وصهره، أول من آمن به. ولد في الكعبة المشرفة، وتولى الخلافة بعد عثمان بن عفان. اشتهر بالشجاعة والعلم والعدل والزهد. له خطب ووصايا وحكم جمعت في نهج البلاغة. استشهد في مسجد الكوفة على يد ابن ملجم. كان باب مدينة علم النبي، وقسيم الجنة والنار، وأقضى الأمة، وإمام المتقين. قال فيه النبي صلى الله عليه وآله: أنا مدينة العلم وعلي بابها."
            },
            {
                id: 3,
                name: "فاطمة الزهراء",
                title: "سيدة نساء العالمين عليها السلام",
                description: "ابنة رسول الله صلى الله عليه وآله، وأم الأئمة المعصومين. ولدت في مكة، وتزوجت بالإمام علي عليه السلام. عُرفت بالعلم والعبادة والصفات الحميدة. دفنت سرًا حسب وصيتها. لها مكانة عظيمة في الإسلام، وهي من أصحاب الكساء الخمسة الذين نزلت فيهم آية التطهير. كانت قُرة عين أبيها، وسيدة نساء العالمين من الأولين والآخرين. عاشت بعد أبيها خمسة وسبعين يوماً فقط، وكانت في تلك المدة في غاية الحزن والأسى."
            },
            {
                id: 4,
                name: "الإمام الحسن",
                title: "المجتبى عليه السلام",
                description: "ابن الإمام علي والسيدة فاطمة الزهراء، سبط رسول الله صلى الله عليه وآله. تولى الإمامة بعد استشهاد أبيه، وواجه ظروفًا سياسية صعبة اضطرته لعقد صلح مع معاوية للحفاظ على الإسلام والمسلمين. عُرف بالحلم والكرم والسخاء. توفي مسموماً في المدينة المنورة. كان أشبه الناس برسول الله صلى الله عليه وآله خلقاً وهدياً وسؤدداً. لُقب بالمجتبى وكريم أهل البيت. كان صاحب مواقف عظيمة في حفظ وحدة المسلمين وصيانة دمائهم."
            },
            {
                id: 5,
                name: "الإمام الحسين",
                title: "سيد الشهداء عليه السلام",
                description: "ابن الإمام علي والسيدة فاطمة الزهراء، سبط رسول الله صلى الله عليه وآله. ثار ضد الظلم والفسق والفساد الذي كان في زمانه، واستشهد في كربلاء مع أصحابه وأهل بيته يوم عاشوراء. كانت ثورته محطة فاصلة في تاريخ الإسلام، وأعادت للأمة روح التضحية والثورة ضد الظلم. قال رسول الله صلى الله عليه وآله في حقه: حسين مني وأنا من حسين. كانت ثورته مدرسة للحرية والكرامة والإباء، وأصبحت كربلاء رمزاً للتضحية والفداء في سبيل المبادئ والقيم."
            },
            {
                id: 6,
                name: "الإمام زين العابدين",
                title: "السجاد عليه السلام",
                description: "ابن الإمام الحسين عليه السلام، عاصر مأساة كربلاء وكان مريضاً فلم يقاتل. بعد استشهاد أبيه تحمل مسؤولية الإمامة في ظروف بالغة الصعوبة. عُرف بعبادته وكثرة سجوده حتى لقب بزين العابدين والسجاد. ترك تراثاً عظيماً من الأدعية والمناجيات جمعت في الصحيفة السجادية. كانت أدعيته جامعة للمعارف الإلهية والمفاهيم الإسلامية الأصيلة. عاش فترة صعبة من الاضطهاد الأموي، فوجه جهده نحو التربية الروحية والعلمية للأمة من خلال الأدعية والمناجاة."
            },
            {
                id: 7,
                name: "الإمام الباقر",
                title: "باقر العلوم عليه السلام",
                description: "ابن الإمام زين العابدين، عاصر فترة انتقالية في الدولة الأموية سمحت له بنشر العلم والمعرفة. أسس مدرسة علمية كبيرة في المدينة المنورة، وروى عنه الكثير من العلماء والفقهاء. كان من أفقه الناس في زمانه، وقد لقب بـ'باقر العلوم' لأنه بقر العلم بقراً (أي شقه شقاً). فتح أبواب المعرفة وعلّم الناس أحكام الدين وعلوم القرآن. كان مرجعاً علمياً للأمة، وتخرج على يديه العديد من العلماء والفقهاء الذين نشروا علوم أهل البيت في مختلف البلدان الإسلامية."
            },
            {
                id: 8,
                name: "الإمام الصادق",
                title: "الصادق الأمين عليه السلام",
                description: "ابن الإمام الباقر، عاصر أواخر الدولة الأموية وقيام الدولة العباسية. في هذه الفترة انتشرت الفرق والمذاهب الإسلامية، فأسس مدرسة فقهية كبيرة روت عنه آلاف الأحاديث في مختلف العلوم الإسلامية. تعتبر فترة إمامته من أزهى فترات نشر علوم أهل البيت. تلمذ على يديه آلاف الطلاب من مختلف المذاهب، وكان مرجعاً للعلماء والفقهاء. قال فيه أبو حنيفة: لولا السنتان لهلك النعمان، يقصد السنتين اللتين تلمذ فيهما على يد الإمام الصادق عليه السلام."
            },
            {
                id: 9,
                name: "الإمام الكاظم",
                title: "الكاظم الغيظ عليه السلام",
                description: "ابن الإمام الصادق، عاصر أشد فترات الظلم في الدولة العباسية خاصة في عهد هارون الرشيد. سجن سنوات طويلة وعانى كثيراً من ظلم الحكام. عُرف بحلمه وكظمه للغيظ حتى لقب بالالكاظم. كان من العبّاد الزهاد، وتوفي مسموماً في سجن هارون الرشيد. كان يسمى العبد الصالح لكثرة عبادته، وكان من أفقه أهل زمانه. قضى سنوات طويلة في سجون الظالمين، ولكنه استمر في نشر العلم وتوجيه الأمة من وراء القضبان."
            },
            {
                id: 10,
                name: "الإمام الرضا",
                title: "الرضا عليه السلام",
                description: "ابن الإمام الكاظم، استدعاه المأمون العباسي إلى خراسان وعرض عليه الخلافة فرفض، فعينه ولياً للعهد. كانت هذه محاولة من المأمون لامتصاص غضب الشيعة. سافر الإمام من المدينة إلى خراسان ونشر علوم أهل البيت في طريقه. توفي مسموماً في طوس (مشهد حالياً). كانت فترة ولايته للعهد فرصة لنشر معارف أهل البيت في أوساط البلاط العباسي والناس. أجرى مناظرات علمية مع علماء مختلف الديانات والمذاهب أثبت فيها تفوق علوم أهل البيت."
            },
            {
                id: 11,
                name: "الإمام الجواد",
                title: "الجواد عليه السلام",
                description: "ابن الإمام الرضا، تولى الإمامة وهو في الثامنة من عمره، مما أثار استغراب الكثيرين. لكنه أظهر علماً وحكمة فائقة تفوقت على علماء زمانه. عاصر فترة صعبة من الحكم العباسي. توفي شاباً مسموماً في بغداد، ودفن إلى جده الإمام الكاظم في مقابر قريش (الكاظمية حالياً). برزت إمامته منذ صغره، وأجاب على أصعب المسائل العلمية وهو طفل، مما أذهل علماء عصره. كان جواداً كريماً، واسع العلم، عميق الفكر، قوي الحجة."
            },
            {
                id: 12,
                name: "الإمام الهادي",
                title: "الهادي عليه السلام",
                description: "ابن الإمام الجواد، عاصر فترة ضعف الدولة العباسية وازدياد نفوذ الأتراك. استدعاه المتوكل العباسي من المدينة إلى سامراء ليراقبه عن قرب. عاش في سامراء تحت الإقامة الجبرية والإشراف المستمر. مع ذلك استطاع أن يواصل نشر علوم أهل البيت. توفي مسموماً في سامراء. قاد الأمة في فترة حرجة من تاريخها، وكان مرجعاً للعلماء والفقهاء رغم الإقامة الجبرية. ترك تراثاً علمياً وأدبياً غنياً، وكان هادياً للأمة في ظل الظروف الصعبة."
            },
            {
                id: 13,
                name: "الإمام العسكري",
                title: "العسكري عليه السلام",
                description: "ابن الإمام الهادي، ولد وعاش في سامراء التي كانت معسكراً للجيش العباسي فلقب بالعسكري. عاصر فترة اضطراب شديد في الدولة العباسية. وضع تحت الإقامة الجبرية والمراقبة المشددة. توفي مسموماً في سامراء ودفن إلى جانب أبيه الإمام الهادي. كانت فترة إمامته قصيرة لكنها مهمة، حيث هيأ الأمة لمرحلة الغيبة الكبرى. ربى مجموعة من الخاصة المؤمنين الذين حملوا مسؤولية التبليغ في عصر الغيبة. كان حلقة الوصل بين عصر الحضور وعصر الغيبة."
            },
            {
                id: 14,
                name: "الإمام المهدي",
                title: "الحجة بن الحسن عليه السلام",
                description: "ابن الإمام العسكري، الإمام الثاني عشر والأخير من أئمة أهل البيت. ولد في سامراء عام 255 هـ، وغاب عن الأنظار بأمر الله ليملأ الأرض قسطاً وعدلاً كما ملئت ظلماً وجوراً. غيبته صغرى استمرت 69 سنة كان يتصل فيها بالناس عبر سفرائه الأربعة، ثم غيبته الكبرى التي نعيش فيها الآن وننتظر ظهوره المبارك. هو الموعود الذي بشرت به جميع الأديان، وستكون دولته دولة العدل الإلهي التي تعم الأرض كلها. ننتظر ظهوره المبارك وندعو الله تعالى أن يعجل فرجه."
            }
        ];

        let currentCardIndex = 0;
        let isAnimating = false;
        const cardsWrapper = document.getElementById('cardsWrapper');
        const navDots = document.getElementById('navDots');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const currentCardInfo = document.getElementById('currentCardInfo');

        function initSite() {
            // إنشاء البطاقات
            imamsData.forEach((imam, index) => {
                const card = document.createElement('div');
                card.className = 'imam-card';
                card.id = `card-${index}`;
                
                const cardHeader = document.createElement('div');
                cardHeader.className = 'card-header';
                
                const imamNumber = document.createElement('div');
                imamNumber.className = 'imam-number';
                imamNumber.textContent = imam.id;
                
                const imamName = document.createElement('h2');
                imamName.className = 'imam-name';
                imamName.textContent = imam.name;
                
                const imamTitle = document.createElement('p');
                imamTitle.className = 'imam-title';
                imamTitle.textContent = imam.title;
                
                cardHeader.appendChild(imamNumber);
                cardHeader.appendChild(imamName);
                cardHeader.appendChild(imamTitle);
                
                const cardBody = document.createElement('div');
                cardBody.className = 'card-body';
                
                const descriptionParagraph = document.createElement('p');
                descriptionParagraph.innerHTML = `<b><br>${imam.description}`;
                cardBody.appendChild(descriptionParagraph);
                
                card.appendChild(cardHeader);
                card.appendChild(cardBody);
                
                cardsWrapper.appendChild(card);
                
                const dot = document.createElement('button');
                dot.className = 'nav-dot';
                if (index === 0) dot.classList.add('active');
                dot.dataset.index = index;
                
                dot.addEventListener('click', () => {
                    if (!isAnimating) {
                        goToCard(index);
                    }
                });
                
                navDots.appendChild(dot);
            });
            
            // عرض البطاقة الأولى
            setTimeout(() => {
                showCard(currentCardIndex);
            }, 100);
            
            // أحداث الأزرار
            prevBtn.addEventListener('click', () => {
                if (!isAnimating) showPrevCard();
            });
            
            nextBtn.addEventListener('click', () => {
                if (!isAnimating) showNextCard();
            });
            
            // أحداث لوحة المفاتيح
            document.addEventListener('keydown', (e) => {
                if (!isAnimating) {
                    if (e.key === 'ArrowRight' || e.key === 'Right') {
                        showPrevCard();
                    } else if (e.key === 'ArrowLeft' || e.key === 'Left') {
                        showNextCard();
                    }
                }
            });
            
            updateProgressBar();
            updateCurrentCardInfo();
        }

        function goToCard(index) {
            if (index >= 0 && index < imamsData.length && !isAnimating && index !== currentCardIndex) {
                const direction = index > currentCardIndex ? 'next' : 'prev';
                animateCardTransition(currentCardIndex, index, direction);
            }
        }

        function showCard(index) {
            currentCardIndex = index;
            
            // إخفاء جميع البطاقات
            document.querySelectorAll('.imam-card').forEach(card => {
                card.classList.remove('active');
                card.style.opacity = '0';
                card.style.visibility = 'hidden';
            });
            
            // إظهار البطاقة الحالية
            const currentCard = document.getElementById(`card-${index}`);
            if (currentCard) {
                currentCard.classList.add('active');
                currentCard.style.opacity = '1';
                currentCard.style.visibility = 'visible';
                
                // ضبط ارتفاع منطقة البطاقات
                setTimeout(() => {
                    const cardHeight = currentCard.offsetHeight;
                    cardsWrapper.style.minHeight = `${cardHeight + 80}px`;
                }, 50);
            }
            
            // تحديث النقاط
            document.querySelectorAll('.nav-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            
            // تحديث حالة الأزرار
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === imamsData.length - 1;
            
            updateProgressBar();
            updateCurrentCardInfo();
            document.title = `${imamsData[index].name} - سيرة المعصومين الأربعة عشر`;
        }

        function animateCardTransition(fromIndex, toIndex, direction) {
            if (isAnimating) return;
            
            isAnimating = true;
            
            const currentCard = document.getElementById(`card-${fromIndex}`);
            const nextCard = document.getElementById(`card-${toIndex}`);
            
            if (!currentCard || !nextCard) {
                isAnimating = false;
                return;
            }
            
            // تعطيل الأزرار
            prevBtn.disabled = true;
            nextBtn.disabled = true;
            
            // إظهار البطاقة التالية مع إخفاءها أولاً
            nextCard.classList.add('active');
            nextCard.style.opacity = '0';
            nextCard.style.visibility = 'visible';
            
            // تطبيق الأنيميشن
            if (direction === 'next') {
                currentCard.classList.add('slide-out-left');
                nextCard.classList.add('slide-in-right');
            } else {
                currentCard.classList.add('slide-out-right');
                nextCard.classList.add('slide-in-left');
            }
            
            // تحديث الواجهة
            currentCardIndex = toIndex;
            updateProgressBar();
            updateCurrentCardInfo();
            updateNavDots(toIndex);
            
            // بعد انتهاء الأنيميشن
            setTimeout(() => {
                // إخفاء البطاقة السابقة
                currentCard.classList.remove('active', 'slide-out-left', 'slide-out-right');
                currentCard.style.opacity = '0';
                currentCard.style.visibility = 'hidden';
                
                // إزالة الأنيميشن من البطاقة الجديدة
                nextCard.classList.remove('slide-in-left', 'slide-in-right');
                nextCard.style.opacity = '1';
                
                // ضبط الارتفاع
                setTimeout(() => {
                    const cardHeight = nextCard.offsetHeight;
                    cardsWrapper.style.minHeight = `${cardHeight + 80}px`;
                }, 50);
                
                // إعادة تمكين الأزرار
                isAnimating = false;
                prevBtn.disabled = toIndex === 0;
                nextBtn.disabled = toIndex === imamsData.length - 1;
            }, 600);
        }

        function updateProgressBar() {
            const progressPercentage = ((currentCardIndex + 1) / imamsData.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }

        function updateNavDots(index) {
            document.querySelectorAll('.nav-dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        function updateCurrentCardInfo() {
            const currentImam = imamsData[currentCardIndex];
            if (currentImam) {
                currentCardInfo.textContent = `المعصوم ${currentImam.id} من ${imamsData.length}`;
            }
        }

        function showPrevCard() {
            if (currentCardIndex > 0 && !isAnimating) {
                goToCard(currentCardIndex - 1);
            }
        }

        function showNextCard() {
            if (currentCardIndex < imamsData.length - 1 && !isAnimating) {
                goToCard(currentCardIndex + 1);
            }
        }

        document.addEventListener('DOMContentLoaded', initSite);
    </script>
</body>
</html>